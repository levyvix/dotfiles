# Technicolor dreams
force_color_prompt=yes
color_prompt=yes

# Simple prompt with path in the window/pane title and caret for typing line
autoload -Uz add-zsh-hook

starship preset bracketed-segments -o ~/.config/starship.toml

# Disable gcloud module
python3 << 'PYTHON'
import re
with open("/home/levi/.config/starship.toml", "r") as f:
    content = f.read()
# Remove all gcloud sections (could be duplicates)
content = re.sub(r'\n\[gcloud\].*?(?=\n\[|\Z)', '', content, flags=re.DOTALL)
# Add disabled gcloud at the end
content += "[gcloud]\ndisabled = true\n"
with open("/home/levi/.config/starship.toml", "w") as f:
    f.write(content)
PYTHON
